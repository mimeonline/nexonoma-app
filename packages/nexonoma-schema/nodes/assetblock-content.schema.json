{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://nexonoma.de/schema/assetblock-content.schema.json",
  "title": "Nexonoma AssetBlock Content",
  "description": "Erweitertes Content-Schema für Nexonoma AssetBlocks. Ergänzt das Basis-Schema um Use Cases, Szenarien, Metriken, Architekturtreiber, Engpässe, Tradeoffs, Reifegrade und Implementierungsdetails.",
  "allOf": [
    { "$ref": "./assetblock-base.schema.json" },
    {
      "type": "object",
      "properties": {
        "useCases": {
          "type": "array",
          "description": "Typische Anwendungsfälle, in denen der AssetBlock eingesetzt wird.",
          "items": {
            "type": "object",
            "required": ["description"],
            "properties": {
              "description": {
                "type": "string",
                "description": "Kurzbeschreibung des Use Cases."
              },
              "inputs": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Benötigte Eingaben im Use Case."
              },
              "outputs": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Ergebnisse, die aus dem Use Case entstehen."
              }
            }
          }
        },

        "scenarios": {
          "type": "array",
          "description": "Reale oder hypothetische Szenarien inkl. Kontext und Schrittfolgen.",
          "items": {
            "type": "object",
            "required": ["name", "context", "steps"],
            "properties": {
              "name": {
                "type": "string",
                "description": "Titel des Szenarios."
              },
              "context": {
                "type": "string",
                "description": "Ausgangssituation oder Problemstellung des Szenarios."
              },
              "steps": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Abfolge der Handlungsschritte im Szenario."
              }
            }
          }
        },

        "examples": {
          "type": "array",
          "description": "Konkrete Beispiele aus der Praxis zur Veranschaulichung.",
          "items": {
            "type": "object",
            "required": ["name", "description"],
            "properties": {
              "name": {
                "type": "string",
                "description": "Titel des Beispiels."
              },
              "description": {
                "type": "string",
                "description": "Beschreibung des Beispiels."
              },
              "benefits": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Konkreter Nutzen im Beispiel."
              },
              "assets": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Verknüpfte Bausteine (Concept, Method, Tool, Technology)."
              }
            }
          }
        },

        "resources": {
          "type": "array",
          "description": "Externe Quellen, Dokumentationen, Artikel oder Websites.",
          "items": {
            "type": "object",
            "required": ["name", "url"],
            "properties": {
              "name": {
                "type": "string",
                "description": "Name der externen Quelle."
              },
              "url": {
                "type": "string",
                "description": "URL zur Quelle."
              }
            }
          }
        },

        "principles": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Leitprinzipien oder Heuristiken des Bausteins."
        },

        "inputs": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Eingaben, Voraussetzungen oder Rahmenbedingungen für den Einsatz."
        },

        "outputs": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Ergebnisse oder Artefakte, die durch den Baustein entstehen."
        },

        "integration": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Relevante Integrationspunkte (APIs, Tools, Systeme)."
        },

        "maturityLevel": {
          "type": "string",
          "description": "Reifegrad des Konzepts oder Werkzeugs.",
          "oneOf": [
            {
              "const": "exploratory",
              "description": "Frühes Experimentieren, geringe Erfahrung."
            },
            {
              "const": "emerging",
              "description": "Erste Akzeptanz und wachsende Verbreitung."
            },
            {
              "const": "established",
              "description": "Bewährte Best Practice mit breiter Anwendung."
            },
            {
              "const": "deprecated",
              "description": "Veraltet und nicht mehr empfohlen."
            }
          ]
        },

        "complexityLevel": {
          "type": "string",
          "description": "Komplexität der Anwendung oder Einführung.",
          "oneOf": [
            {
              "const": "low",
              "description": "Einfach verständlich und einführbar."
            },
            {
              "const": "medium",
              "description": "Benötigt Einarbeitung oder koordinierte Einführung."
            },
            {
              "const": "high",
              "description": "Hohe Komplexität; erfordert Erfahrung und Planung."
            }
          ]
        },

        "impact": {
          "type": "string",
          "description": "Primäre Wirkungsebene des Bausteins.",
          "oneOf": [
            {
              "const": "technical",
              "description": "Beeinflusst technische Architektur und Systeme."
            },
            {
              "const": "business",
              "description": "Wirkt auf Geschäftsprozesse oder Wertschöpfung."
            },
            {
              "const": "organizational",
              "description": "Betrifft Teams, Rollen oder Strukturen."
            }
          ]
        },

        "decisionType": {
          "type": "string",
          "description": "Klassifizierung des unterstützten Entscheidungstyps.",
          "oneOf": [
            {
              "const": "pattern-selection",
              "description": "Entscheidung zwischen Patterns oder Prinzipien."
            },
            {
              "const": "architecture-style",
              "description": "Wahl eines strukturellen Architekturansatzes."
            },
            {
              "const": "org-structure",
              "description": "Organisationale Struktur- oder Teamentscheidungen."
            }
          ]
        },

        "tradeoffMatrix": {
          "type": "array",
          "description": "Gegenüberstellung von Vor- und Nachteilen für verschiedene Einflussfaktoren.",
          "items": {
            "type": "object",
            "required": ["factor", "pros", "cons"],
            "properties": {
              "factor": {
                "type": "string",
                "description": "Der betrachtete Einflussfaktor (z. B. Performance, Maintainability)."
              },
              "pros": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Positive Auswirkungen im Kontext dieses Faktors."
              },
              "cons": {
                "type": "array",
                "items": { "type": "string" },
                "description": "Negative Auswirkungen im Kontext dieses Faktors."
              }
            }
          }
        },

        "architecturalDrivers": {
          "type": "array",
          "description": "Architekturtreiber (Quality Attributes, Delivery- und Team-Faktoren), die Entscheidungen maßgeblich beeinflussen.",
          "items": {
            "type": "string",
            "oneOf": [
              {
                "const": "availability",
                "description": "Systemverfügbarkeit, Uptime, Redundanz."
              },
              {
                "const": "complexity-reduction",
                "description": "Reduktion unnötiger Komplexität, Klarheit im Modell."
              },
              {
                "const": "cost-efficiency",
                "description": "Optimale Kosten-Nutzen-Relation in Development & Betrieb."
              },
              {
                "const": "delivery-speed",
                "description": "Geschwindigkeit der Umsetzung, Release-Frequenz."
              },
              {
                "const": "domain-alignment",
                "description": "Gute Abbildung der Fachlichkeit, hoher DDD-Fit."
              },
              {
                "const": "extensibility",
                "description": "Erweiterbarkeit des Systems ohne große Refactorings."
              },
              {
                "const": "fault-tolerance",
                "description": "Fähigkeit, trotz Ausfällen weiterzufunktionieren."
              },
              {
                "const": "interoperability",
                "description": "Zusammenspiel mit anderen Systemen, APIs, Standards."
              },
              {
                "const": "maintainability",
                "description": "Wartbarkeit, Lesbarkeit, Änderbarkeit."
              },
              {
                "const": "observability",
                "description": "Monitoring, Tracing, Logging, Fehlersichtbarkeit."
              },
              {
                "const": "operational-efficiency",
                "description": "Effektivität im Betrieb, Automatisierungsgrad."
              },
              {
                "const": "performance",
                "description": "Antwortzeiten, Durchsatz, Effizienz."
              },
              {
                "const": "portability",
                "description": "Übertragbarkeit auf andere Plattformen, Umgebungen."
              },
              {
                "const": "reliability",
                "description": "Zuverlässigkeit, Stabilität, Fehlerrobustheit."
              },
              {
                "const": "scalability",
                "description": "Skalierbarkeit in Last, Daten oder Teamgröße."
              },
              {
                "const": "security",
                "description": "Schutz gegen Angriffe, Compliance, Risiko-Minimierung."
              },
              {
                "const": "team-cognitive-load",
                "description": "Belastung des Teams, Verständlichkeit, Fokus."
              },
              {
                "const": "testability",
                "description": "Leichte Testbarkeit, Testabdeckung, Automatisierbarkeit."
              },
              {
                "const": "time-to-market",
                "description": "Geschwindigkeit, mit der neue Fähigkeiten ausgeliefert werden."
              }
            ]
          }
        },

        "bottleneckTags": {
          "type": "array",
          "description": "Typische systemische Engpässe (technisch, organisatorisch, domänisch), die den Baustein beeinflussen.",
          "items": {
            "type": "string",
            "oneOf": [
              {
                "const": "latency",
                "description": "Verzögerungen in Reaktionszeiten."
              },
              {
                "const": "throughput",
                "description": "Zu geringe Verarbeitungskapazität."
              },
              {
                "const": "scalability",
                "description": "System stößt an Wachstumsgrenzen."
              },
              {
                "const": "availability",
                "description": "Häufige oder kritische Ausfälle."
              },
              {
                "const": "consistency",
                "description": "Dateninkonsistenzen in verteilten Systemen."
              },
              {
                "const": "memory-pressure",
                "description": "Hoher Speicherverbrauch."
              },
              {
                "const": "cpu-pressure",
                "description": "CPU-Engpässe, Überlastsituationen."
              },
              {
                "const": "storage-io",
                "description": "Langsame Lese- und Schreiboperationen."
              },
              {
                "const": "network-io",
                "description": "Netzwerklast oder Engpässe."
              },
              {
                "const": "db-queries",
                "description": "Ineffiziente oder zu viele Datenbankabfragen."
              },
              {
                "const": "locking-contention",
                "description": "Konkurrenz um kritische Ressourcen."
              },
              {
                "const": "performance-degradation",
                "description": "Allgemeine Performanceprobleme."
              },
              {
                "const": "observability-gap",
                "description": "Fehlende Transparenz oder Monitoring."
              },
              {
                "const": "deployment-complexity",
                "description": "Komplexe oder fragile Releases."
              },

              {
                "const": "domain-coupling",
                "description": "Zu starke fachliche Abhängigkeiten."
              },
              {
                "const": "boundary-mismatch",
                "description": "Grenzen passen nicht zu Verantwortlichkeiten."
              },
              {
                "const": "integration-sprawl",
                "description": "Zu viele oder chaotische Integrationen."
              },
              {
                "const": "event-chaos",
                "description": "Unklare Event-Flows oder Duplikate."
              },
              {
                "const": "pattern-misuse",
                "description": "Muster falsch angewendet."
              },
              {
                "const": "microservice-overhead",
                "description": "Zu hoher Overhead durch zu viele Services."
              },
              {
                "const": "monolith-bloat",
                "description": "Überladener Monolith."
              },
              {
                "const": "version-drift",
                "description": "Unterschiedliche Versionsstände im System."
              },
              {
                "const": "legacy-blocker",
                "description": "Altsysteme blockieren Fortschritt."
              },

              {
                "const": "team-dependencies",
                "description": "Teams sind eng voneinander abhängig."
              },
              {
                "const": "silo-effects",
                "description": "Wissen in isolierten Teams gefangen."
              },
              {
                "const": "unclear-ownership",
                "description": "Keine klaren Verantwortlichkeiten."
              },
              {
                "const": "ownership-gaps",
                "description": "Themen liegen zwischen Teams ohne Zuständigkeit."
              },
              {
                "const": "role-ambiguity",
                "description": "Unklare Rollen- oder Verantwortungsbereiche."
              },
              {
                "const": "handoff-delays",
                "description": "Verzögerungen bei Übergaben."
              },
              {
                "const": "review-waiting",
                "description": "Lange Review- und Freigabewartezeiten."
              },
              {
                "const": "delivery-bottleneck",
                "description": "Engpässe in der Delivery Pipeline."
              },
              {
                "const": "process-friction",
                "description": "Reibungsverluste durch Prozesse."
              },
              {
                "const": "low-autonomy",
                "description": "Teams haben zu wenig Entscheidungsspielraum."
              },
              {
                "const": "governance-gap",
                "description": "Fehlendes oder schwaches Governance-Modell."
              },
              {
                "const": "resistance-to-change",
                "description": "Widerstand gegen Veränderungen."
              },
              {
                "const": "low-maturity",
                "description": "Unreife Arbeitsweisen oder Prozesse."
              },
              {
                "const": "team-communication",
                "description": "Abgestimmte Zusammenarbeit fehlt."
              },
              {
                "const": "organizational-alignment",
                "description": "Strategische Ausrichtung unklar."
              },

              {
                "const": "slow-feedback-loop",
                "description": "Feedback kommt zu spät zurück."
              },
              {
                "const": "missing-tests",
                "description": "Zu wenig oder fehlende Tests."
              },
              {
                "const": "manual-process",
                "description": "Zu viel manuelle Arbeit."
              },
              {
                "const": "release-complexity",
                "description": "Releases sind komplex oder fehleranfällig."
              },
              {
                "const": "lack-of-standards",
                "description": "Fehlende Standards und Richtlinien."
              },
              {
                "const": "no-shared-language",
                "description": "Fehlendes gemeinsames Vokabular."
              },
              {
                "const": "unclear-scope",
                "description": "Unklarer Umfang oder Zielsetzung."
              },
              {
                "const": "value-stream-break",
                "description": "Unterbrochener Wertfluss."
              },

              {
                "const": "high-cognitive-load",
                "description": "Hohe mentale Belastung."
              },
              {
                "const": "ambiguous-domain",
                "description": "Unklare Fachdomäne."
              },
              {
                "const": "poor-documentation",
                "description": "Unzureichende Dokumentation."
              },
              {
                "const": "domain-complexity",
                "description": "Hohe fachliche Komplexität."
              },
              {
                "const": "tooling-limitations",
                "description": "Limitierungen in Tools oder Infrastruktur."
              },
              {
                "const": "skill-gap",
                "description": "Fehlende Kompetenzen oder Expertise."
              }
            ]
          }
        },

        "organizationalMaturity": {
          "type": "string",
          "description": "Organisationaler Reifegrad, für den der Baustein geeignet ist.",
          "oneOf": [
            {
              "const": "foundation",
              "description": "Frühe Phase, wenig formale Prozesse."
            },
            {
              "const": "intermediate",
              "description": "Stabilere Abläufe, erste Governance."
            },
            {
              "const": "advanced",
              "description": "Hohe Reife, etablierte Strukturen und Praktiken."
            }
          ]
        },

        "valueStreamStage": {
          "type": "string",
          "description": "Position des Bausteins im Produkt- oder Wertstrom.",
          "oneOf": [
            {
              "const": "discovery",
              "description": "Exploration, Research, Problemverständnis."
            },
            {
              "const": "build",
              "description": "Umsetzung, Entwicklung, Delivery."
            },
            {
              "const": "run",
              "description": "Betrieb, Monitoring, Stabilisierung."
            },
            {
              "const": "iterate",
              "description": "Verbesserung, Optimierung, Lernzyklen."
            }
          ]
        },

        "benefits": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Nutzen und Vorteile des Bausteins."
        },

        "limitations": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Grenzen, Einschränkungen oder Nachteile."
        },

        "alternatives": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Alternative Bausteine oder Konzepte."
        },

        "requiredSkills": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Notwendige Fähigkeiten, um den Baustein anwenden zu können."
        },

        "implementationSteps": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Empfohlene Schritte zur Einführung oder Nutzung."
        },

        "preconditions": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Voraussetzungen für eine erfolgreiche Anwendung."
        },

        "metrics": {
          "type": "array",
          "description": "Metriken zur Bewertung des Erfolgs oder Fortschritts.",
          "items": {
            "type": "object",
            "required": ["name", "description"],
            "properties": {
              "name": { "type": "string", "description": "Name der Metrik." },
              "description": {
                "type": "string",
                "description": "Beschreibung, was die Metrik misst."
              }
            }
          }
        },

        "risks": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Potenzielle Risiken oder unerwünschte Nebenwirkungen."
        },

        "bestPractices": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Bewährte Praktiken und Empfehlungen."
        },

        "antiPatterns": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Typische Fehlanwendungen oder Missverständnisse."
        },

        "techDebts": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Typische Arten technischer Schulden."
        },

        "misuseExamples": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Beispiele dafür, wie der Baustein falsch eingesetzt wird."
        },

        "traps": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Häufig auftretende Fehlannahmen oder Stolperfallen."
        },

        "constraints": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Technische, organisatorische oder regulatorische Constraints."
        },

        "cognitiveLoad": {
          "type": "string",
          "description": "Kognitive Belastung für Anwender.",
          "oneOf": [
            { "const": "low", "description": "Einfach verständlich." },
            { "const": "medium", "description": "Benötigt Einarbeitung." },
            {
              "const": "high",
              "description": "Erfordert tiefes Expertenwissen."
            }
          ]
        },

        "icon": {
          "type": "string",
          "description": "Icon oder Emoji zur Visualisierung."
        },

        "image": {
          "type": "string",
          "description": "Optionales Bild oder Illustration zum Baustein."
        }
      },

      "required": [
        "useCases",
        "scenarios",
        "examples",
        "resources",
        "integration",
        "requiredSkills",
        "implementationSteps",
        "preconditions",
        "metrics",
        "risks",
        "bestPractices",
        "antiPatterns",
        "techDebts",
        "constraints"
      ]
    }
  ]
}
